(self.webpackChunkbarberttoo_v2=self.webpackChunkbarberttoo_v2||[]).push([[567],{4567:(t,e,o)=>{"use strict";o.r(e),o.d(e,{HistoricoModule:()=>O});var n=o(8583),i=o(4330),s=o(7716),a=o(2577),c=o(3141);function r(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.ALo(5,"date"),s.qZA(),s.TgZ(6,"td",6),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.Oqu(t.servico.nm_servico),s.xp6(2),s.hij(" ",s.xi3(5,5,t.dt_Realizado,"dd/MM/YY '\xe0s' HH:mm")," "),s.xp6(3),s.Oqu(t.funcionario.nm_Funcionario),s.xp6(2),s.Oqu(t.funcionario.ds_Email),s.xp6(2),s.hij("R$ ",t.vl_Pago.toFixed(2),"")}}let l=(()=>{class t{constructor(){}ngOnInit(){this.agendamentos.sort((t,e)=>new Date(e.dt_Realizado)-new Date(t.dt_Realizado))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-historico-cliente-table"]],inputs:{agendamentos:"agendamentos"},decls:15,vars:1,consts:[[1,"table","table-striped"],["scope","col","sortable","population"],["scope","col","sortable","area"],["scope","col"],["scope","col","sortable","name"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(s.TgZ(0,"table",0),s.TgZ(1,"thead"),s.TgZ(2,"tr"),s.TgZ(3,"th",1),s._uU(4,"Servi\xe7o realizado"),s.qZA(),s.TgZ(5,"th",2),s._uU(6,"Data do atendimento"),s.qZA(),s.TgZ(7,"th",3),s._uU(8,"Atendente"),s.qZA(),s.TgZ(9,"th",4),s._uU(10,"Contato"),s.qZA(),s.TgZ(11,"th",1),s._uU(12,"Valor cobrado"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"tbody"),s.YNc(14,r,12,8,"tr",5),s.qZA(),s.qZA()),2&t&&(s.xp6(14),s.Q6J("ngForOf",e.agendamentos))},directives:[n.sg],pipes:[n.uU],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#c6932b;vertical-align:middle}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#fff}']}),t})();function d(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td",6),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.ALo(5,"date"),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.Oqu(t.cliente.nm_Cliente),s.xp6(2),s.hij(" ",s.xi3(5,5,t.dt_Realizado,"dd/MM/YY '\xe0s' HH:mm")," "),s.xp6(3),s.Oqu(t.servico.nm_servico),s.xp6(2),s.Oqu(t.cliente.ds_Email),s.xp6(2),s.hij("R$ ",t.vl_Pago.toFixed(2),"")}}let g=(()=>{class t{constructor(){}ngOnInit(){this.agendamentos.sort((t,e)=>new Date(e.dt_Realizado)-new Date(t.dt_Realizado))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-historico-funcionario-table"]],inputs:{agendamentos:"agendamentos"},decls:15,vars:1,consts:[[1,"table","table-striped"],["scope","col"],["scope","col","sortable","area"],["scope","col","sortable","population"],["scope","col","sortable","name"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(s.TgZ(0,"table",0),s.TgZ(1,"thead"),s.TgZ(2,"tr"),s.TgZ(3,"th",1),s._uU(4,"Cliente"),s.qZA(),s.TgZ(5,"th",2),s._uU(6,"Data do atendimento"),s.qZA(),s.TgZ(7,"th",3),s._uU(8,"Servi\xe7o realizado"),s.qZA(),s.TgZ(9,"th",4),s._uU(10,"Contato"),s.qZA(),s.TgZ(11,"th",3),s._uU(12,"Valor cobrado"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(13,"tbody"),s.YNc(14,d,12,8,"tr",5),s.qZA(),s.qZA()),2&t&&(s.xp6(14),s.Q6J("ngForOf",e.agendamentos))},directives:[n.sg],pipes:[n.uU],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#c6932b;vertical-align:middle}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#fff}']}),t})();function p(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td",6),s._uU(2),s.qZA(),s.TgZ(3,"td",6),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.ALo(7,"date"),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.TgZ(10,"td"),s._uU(11),s.qZA(),s.TgZ(12,"td"),s._uU(13),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.Oqu(t.cliente.nm_Cliente),s.xp6(2),s.Oqu(t.funcionario.nm_Funcionario),s.xp6(2),s.hij(" ",s.xi3(7,6,t.dt_Realizado,"dd/MM/YY '\xe0s' HH:mm")," "),s.xp6(3),s.Oqu(t.servico.nm_servico),s.xp6(2),s.Oqu(t.cliente.ds_Email),s.xp6(2),s.hij("R$ ",t.vl_Pago.toFixed(2),"")}}let u=(()=>{class t{constructor(){}ngOnInit(){this.agendamentos.sort((t,e)=>new Date(e.dt_Realizado)-new Date(t.dt_Realizado))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-historico-adm-table"]],inputs:{agendamentos:"agendamentos"},decls:17,vars:1,consts:[[1,"table","table-striped"],["scope","col"],["scope","col","sortable","area"],["scope","col","sortable","population"],["scope","col","sortable","name"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(s.TgZ(0,"table",0),s.TgZ(1,"thead"),s.TgZ(2,"tr"),s.TgZ(3,"th",1),s._uU(4,"Cliente"),s.qZA(),s.TgZ(5,"th",1),s._uU(6,"Atendente"),s.qZA(),s.TgZ(7,"th",2),s._uU(8,"Data do atendimento"),s.qZA(),s.TgZ(9,"th",3),s._uU(10,"Servi\xe7o realizado"),s.qZA(),s.TgZ(11,"th",4),s._uU(12,"Contato"),s.qZA(),s.TgZ(13,"th",3),s._uU(14,"Valor cobrado"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"tbody"),s.YNc(16,p,14,9,"tr",5),s.qZA(),s.qZA()),2&t&&(s.xp6(16),s.Q6J("ngForOf",e.agendamentos))},directives:[n.sg],pipes:[n.uU],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#c6932b;vertical-align:middle}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:#fff}']}),t})();var h=o(9047);function Z(t,e){if(1&t&&s._UZ(0,"app-historico-cliente-table",6),2&t){const t=s.oxw(2);s.Q6J("agendamentos",t.agendamentosCliente)}}function _(t,e){if(1&t&&s._UZ(0,"app-historico-funcionario-table",6),2&t){const t=s.oxw(2);s.Q6J("agendamentos",t.agendamentosFunc)}}function m(t,e){if(1&t&&s._UZ(0,"app-historico-adm-table",6),2&t){const t=s.oxw(2);s.Q6J("agendamentos",t.agendamentosADM)}}function f(t,e){if(1&t&&(s.TgZ(0,"div",4),s.YNc(1,Z,1,1,"app-historico-cliente-table",5),s.YNc(2,_,1,1,"app-historico-funcionario-table",5),s.YNc(3,m,1,1,"app-historico-adm-table",5),s.qZA()),2&t){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.isCliente),s.xp6(1),s.Q6J("ngIf",t.isFunc),s.xp6(1),s.Q6J("ngIf",t.isADM)}}function A(t,e){1&t&&(s.TgZ(0,"div",7),s._UZ(1,"app-loader"),s.qZA())}const q=[{path:"",component:(()=>{class t{constructor(t,e){this.userService=t,this.historicoService=e,this.loading=!1,this.agendamentosFunc=[],this.agendamentosCliente=[],this.agendamentosADM=[]}ngOnInit(){this.isCliente="ROLE_CLIENTE"===this.userService.retornaUserRole(),this.isADM="ROLE_ADM"===this.userService.retornaUserRole(),this.isFunc="ROLE_ATEND"===this.userService.retornaUserRole(),this.userId=this.userService.retornaUserId(),this.isCliente?this.getHistoricoByCliente():this.isFunc?this.getHistoricoByAtendente():this.getHistoricoByADM()}onFilter(){}getHistoricoByAtendente(){this.loading=!0,this.historicoService.getFuncionarioHistoricById(+this.userId).then(t=>{console.log(t),this.agendamentosFunc=t,this.loading=!1}).catch(t=>{console.log(t),this.loading=!1})}getHistoricoByCliente(){this.loading=!0,this.historicoService.getClienteHistoricById(+this.userId).then(t=>{console.log(t),this.agendamentosCliente=t,this.loading=!1}).catch(t=>{console.log(t),this.loading=!1})}getHistoricoByADM(){this.loading=!0,this.historicoService.getHistoricoTotal().then(t=>{console.log(t),this.agendamentosADM=t,this.loading=!1}).catch(t=>{console.log(t),this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(a.K),s.Y36(c.l))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-historico"]],decls:9,vars:2,consts:[[1,"historico"],[1,"historico__header"],["class","historico__body",4,"ngIf"],["class","loading",4,"ngIf"],[1,"historico__body"],[3,"agendamentos",4,"ngIf"],[3,"agendamentos"],[1,"loading"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"div",1),s.TgZ(2,"div"),s.TgZ(3,"h1"),s._uU(4,"Hist\xf3rico de atendimentos"),s.qZA(),s.TgZ(5,"p"),s._uU(6,"Visualize abaixo todos os atendimentos conclu\xeddos relacionados ao seu perfil."),s.qZA(),s.qZA(),s.qZA(),s.YNc(7,f,4,3,"div",2),s.YNc(8,A,2,0,"div",3),s.qZA()),2&t&&(s.xp6(7),s.Q6J("ngIf",!e.loading),s.xp6(1),s.Q6J("ngIf",e.loading))},directives:[n.O5,l,g,u,h.R],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");.historico[_ngcontent-%COMP%]{padding:16px}.historico__header[_ngcontent-%COMP%]{margin-bottom:32px;display:flex;justify-content:space-between;flex-direction:column}@media (min-width: 1140px){.historico__header[_ngcontent-%COMP%]{align-items:center;flex-direction:row}}.historico__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#c6932b}.historico__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.historico__body[_ngcontent-%COMP%]{overflow:auto}.historico__body[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:32px}']}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.Bz.forChild(q)],i.Bz]}),t})();var b=o(4466);let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[n.ez,T,b.m]]}),t})()}}]);