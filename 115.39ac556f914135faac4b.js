(self.webpackChunkbarberttoo_v2=self.webpackChunkbarberttoo_v2||[]).push([[115],{9115:(e,n,t)=>{"use strict";t.r(n),t.d(n,{DashboardModule:()=>P});var o=t(8583),a=t(665),d=t(4212),i=t(4466),c=t(8832),r=t(129),s=t(4330),g=t(7716),l=t(1595),p=t(2577),_=t(9976),h=t(5271),m=t(689),u=t(9047);function f(e,n){if(1&e&&g._UZ(0,"fa-icon",10),2&e){const e=g.oxw();g.Q6J("icon",e.faCheck)("fixedWidth",!0)}}function x(e,n){1&e&&g._UZ(0,"app-loader")}let Z=(()=>{class e{constructor(e,n){this.modalService=e,this.agendamentoService=n,this.deleteClicked=new g.vpe,this.loading=!1,this.faCheck=_.LEp}ngOnInit(){this.dataAgendamento=(0,m.tw)(this.agendamento.dt_Agendamento)}openAlertModal(){this.modal.open()}onDelete(){this.modalService.dismissAll(),this.loading=!0,this.agendamentoService.deleteAgendamento(this.agendamento.id).then(e=>{console.log(e),this.deleteClicked.emit("refresh"),this.loading=!1}).catch(e=>{console.log(e),this.loading=!1})}}return e.\u0275fac=function(n){return new(n||e)(g.Y36(c.FF),g.Y36(l.M))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-card-agendamento-dashboard"]],viewQuery:function(e,n){if(1&e&&g.Gf(h.F,5),2&e){let e;g.iGM(e=g.CRH())&&(n.modal=e.first)}},inputs:{agendamento:"agendamento"},outputs:{deleteClicked:"deleteClicked"},decls:40,vars:17,consts:[[1,"cards"],[1,"cards__header"],[1,"delete",3,"click"],[3,"icon","fixedWidth",4,"ngIf"],[4,"ngIf"],[1,"cards__body"],[1,"cards__content"],[1,"cards__date"],[1,"cards__info"],["title","Aten\xe7\xe3o!","color","amarelo","actionText","Concluir",3,"actionClicked"],[3,"icon","fixedWidth"]],template:function(e,n){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"h2"),g._uU(3),g.qZA(),g.TgZ(4,"button",2),g.NdJ("click",function(){return n.openAlertModal()}),g.YNc(5,f,1,2,"fa-icon",3),g.YNc(6,x,1,0,"app-loader",4),g.qZA(),g.qZA(),g.TgZ(7,"div",5),g.TgZ(8,"div",6),g.TgZ(9,"span",7),g._uU(10),g.qZA(),g.TgZ(11,"div",8),g.TgZ(12,"p"),g._uU(13,"Hor\xe1rio: "),g.TgZ(14,"strong"),g._uU(15),g.ALo(16,"date"),g.qZA(),g.qZA(),g.TgZ(17,"p"),g._uU(18,"Cliente: "),g.TgZ(19,"strong"),g._uU(20),g.qZA(),g.qZA(),g.TgZ(21,"p"),g._uU(22,"Contato: "),g.TgZ(23,"strong"),g._uU(24),g.qZA(),g._uU(25," ou "),g.TgZ(26,"strong"),g._uU(27),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(28,"app-alert-modal",9),g.NdJ("actionClicked",function(){return n.onDelete()}),g.TgZ(29,"p"),g._uU(30," Voc\xea est\xe1 prestes a dar como conclu\xeddo o agendamento da data "),g.TgZ(31,"strong"),g._uU(32),g.ALo(33,"date"),g.qZA(),g._uU(34," para o servi\xe7o de "),g.TgZ(35,"strong"),g._uU(36),g.qZA(),g._uU(37," do cliente "),g.TgZ(38,"strong"),g._uU(39),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(3),g.Oqu(n.agendamento.servico.nm_servico),g.xp6(2),g.Q6J("ngIf",!n.loading),g.xp6(1),g.Q6J("ngIf",n.loading),g.xp6(4),g.Oqu(n.dataAgendamento),g.xp6(5),g.Oqu(g.xi3(16,11,n.agendamento.dt_Agendamento,"HH:mm")),g.xp6(5),g.Oqu(n.agendamento.cliente.nm_Cliente),g.xp6(4),g.Oqu(n.agendamento.cliente.cd_Celular),g.xp6(3),g.Oqu(n.agendamento.cliente.ds_Email),g.xp6(5),g.Oqu(g.xi3(33,14,n.agendamento.dt_Agendamento,"dd/MM/yy")),g.xp6(4),g.Oqu(n.agendamento.servico.nm_servico),g.xp6(3),g.Oqu(n.agendamento.cliente.nm_Cliente))},directives:[o.O5,h.F,d.BN,u.R],pipes:[o.uU],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");.cards[_ngcontent-%COMP%]{background:#fff;border-radius:8px;color:#0d1117;padding:16px;border:2px solid #c6932b}.cards__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.cards__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:21px;line-height:31px;color:#c6932b;position:relative}.cards__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";width:48px;height:1px;background:#0d1117;position:absolute;left:0;bottom:0}.cards__header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#c6932b;border-radius:50%;height:28px;width:28px;transition:all .3s}.cards__header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     fa-icon{color:#fff}.cards__header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:brightness(.9)}.cards__body[_ngcontent-%COMP%], .cards__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cards__content[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}@media (min-width: 768px){.cards__content[_ngcontent-%COMP%]{flex-direction:row}}.cards__date[_ngcontent-%COMP%]{font-size:28px;line-height:38px;width:100%;display:block}.cards__info[_ngcontent-%COMP%]{margin-top:8px;width:100%;grid-gap:16px;gap:16px}.cards__info[_ngcontent-%COMP%], .cards__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cards__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:18px}@media (min-width: 768px){.cards__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block}}.cards__detalhes[_ngcontent-%COMP%]{background:#015b7e;display:flex;justify-content:center;margin-top:16px;border-radius:8px}.cards__detalhes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;display:block;text-align:center;width:100%;padding:8px}']}),e})();function C(e,n){if(1&e&&(g.TgZ(0,"p"),g._uU(1,"Voc\xea tem um total de "),g.TgZ(2,"strong"),g._uU(3),g.qZA(),g._uU(4),g.qZA()),2&e){const e=g.oxw();g.xp6(3),g.Oqu(e.agendamentos.length),g.xp6(1),g.hij(" ",e.agendamentos.length>1?"agendamentos":"agendamento"," para hoje ")}}function b(e,n){1&e&&(g.TgZ(0,"p"),g._uU(1,"N\xe3o existe nenhum agendamento marcado para o dia de hoje."),g.qZA())}function O(e,n){if(1&e){const e=g.EpF();g.TgZ(0,"app-card-agendamento-dashboard",7),g.NdJ("deleteClicked",function(){return g.CHM(e),g.oxw().getAgendamentosByAtendente()}),g.qZA()}2&e&&g.Q6J("agendamento",n.$implicit)}function A(e,n){1&e&&(g.TgZ(0,"div",8),g._UZ(1,"app-loader"),g.qZA())}const M=[{path:"",component:(()=>{class e{constructor(e,n){this.agendamentoService=e,this.userService=n,this.agendamentos=[],this.loading=!1}ngOnInit(){this.id=this.userService.retornaUserId(),this.getAgendamentosByAtendente()}getAgendamentosByAtendente(){this.loading=!0,this.agendamentoService.getAgendamentosFuncionario(Number(this.id)).then(e=>{console.log(e),this.agendamentos=e,this.loading=!1}).catch(e=>{console.log(e),this.loading=!1,alert("N\xe3o foi poss\xedvel completar sua requisi\xe7\xe3o! Tente novamente mais tarde.")})}}return e.\u0275fac=function(n){return new(n||e)(g.Y36(l.M),g.Y36(p.K))},e.\u0275cmp=g.Xpm({type:e,selectors:[["app-dashboard"]],decls:11,vars:4,consts:[[1,"dashboard"],[1,"dashboard__header"],[4,"ngIf"],[1,"dashboard__body"],[1,"grid"],[3,"agendamento","deleteClicked",4,"ngFor","ngForOf"],["class","loader",4,"ngIf"],[3,"agendamento","deleteClicked"],[1,"loader"]],template:function(e,n){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div"),g.TgZ(3,"h1"),g._uU(4,"Dashboard"),g.qZA(),g.YNc(5,C,5,2,"p",2),g.YNc(6,b,2,0,"p",2),g.qZA(),g.qZA(),g.TgZ(7,"div",3),g.TgZ(8,"div",4),g.YNc(9,O,1,1,"app-card-agendamento-dashboard",5),g.qZA(),g.YNc(10,A,2,0,"div",6),g.qZA(),g.qZA()),2&e&&(g.xp6(5),g.Q6J("ngIf",n.agendamentos.length>0&&!n.loading),g.xp6(1),g.Q6J("ngIf",0===n.agendamentos.length&&!n.loading),g.xp6(3),g.Q6J("ngForOf",n.agendamentos),g.xp6(1),g.Q6J("ngIf",n.loading))},directives:[o.O5,o.sg,Z,u.R],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");.dashboard[_ngcontent-%COMP%]{padding:16px}.dashboard__header[_ngcontent-%COMP%]{margin-bottom:32px;display:flex;justify-content:space-between;flex-direction:column}@media (min-width: 1140px){.dashboard__header[_ngcontent-%COMP%]{align-items:center;flex-direction:row}}.dashboard__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#c6932b}.dashboard__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.dashboard__body[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:32px;gap:32px}@media (min-width: 1140px){.dashboard__body[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.dashboard__body[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:32px}']}),e})()}];let q=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[s.Bz.forChild(M)],s.Bz]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[o.ez,q,a.UX,d.uH,i.m,c.IJ,r.yI.forChild()]]}),e})()}}]);