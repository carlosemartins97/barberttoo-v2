(self.webpackChunkbarberttoo_v2=self.webpackChunkbarberttoo_v2||[]).push([[592],{7990:(t,e,n)=>{"use strict";n.d(e,{e:()=>c});var o=n(8307),a=n(7716),i=n(1841),r=n(2577);let c=(()=>{class t{constructor(t,e){this.http=t,this.userService=e,this.apiURL="https://sistema-barbertoo.herokuapp.com"}login(t){return this.http.post(`${this.apiURL}/login`,{login:t.email,password:t.password}).pipe((0,o.b)(t=>{const e=t.id,n=t.profile;this.userService.salvaToken(t.token),this.userService.salvaUserId(e),this.userService.salvaUserRole(n)}))}register(t){const e="("+t.phone.substring(0,2)+") "+t.phone.substring(2,7)+"-"+t.phone.substring(7,11),n=t.cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4");return console.log(n),console.log(e),this.http.post(`${this.apiURL}/cliente/create`,{nm_Cliente:t.name,ds_Email:t.email,cd_Cpf:n,dt_BirthDate:t.date,cd_Celular:e,cd_Password:t.password})}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(i.eN),a.LFG(r.K))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},2317:(t,e,n)=>{"use strict";n.d(e,{G:()=>g});var o=n(7716),a=n(9976),i=n(5271),r=n(689),c=n(1595),s=n(8832);function d(t,e){if(1&t&&o._UZ(0,"fa-icon",12),2&t){const t=o.oxw();o.Q6J("icon",t.faTrash)("fixedWidth",!0)}}function l(t,e){1&t&&o._UZ(0,"app-loader")}const u=function(t){return[t]};let g=(()=>{class t{constructor(t,e){this.agendamentoService=t,this.modalService=e,this.deleteClicked=new o.vpe,this.loading=!1,this.faTrash=a.$aW}ngOnInit(){this.formatAgendamentoDate()}formatAgendamentoDate(){this.dataAgendamento=(0,r.tw)(this.agendamento.dt_Agendamento)}onDelete(){this.modalService.dismissAll(),this.loading=!0,this.agendamentoService.deleteAgendamento(this.agendamento.id).then(t=>{console.log(t),this.deleteClicked.emit("refresh"),this.loading=!1}).catch(t=>{console.log(t),this.loading=!1})}openAlertModal(){this.modal.open()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.M),o.Y36(s.FF))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-card-agendamento"]],viewQuery:function(t,e){if(1&t&&o.Gf(i.F,5),2&t){let t;o.iGM(t=o.CRH())&&(e.modal=t.first)}},inputs:{agendamento:"agendamento"},outputs:{deleteClicked:"deleteClicked"},decls:40,vars:19,consts:[[1,"cards"],[1,"cards__header"],[1,"delete",3,"click"],[3,"icon","fixedWidth",4,"ngIf"],[4,"ngIf"],[1,"cards__body"],[1,"cards__content"],[1,"cards__date"],[1,"cards__info"],[1,"cards__detalhes"],[3,"routerLink"],["title","Aten\xe7\xe3o!",3,"actionClicked"],[3,"icon","fixedWidth"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"h2"),o._uU(3),o.qZA(),o.TgZ(4,"button",2),o.NdJ("click",function(){return e.openAlertModal()}),o.YNc(5,d,1,2,"fa-icon",3),o.YNc(6,l,1,0,"app-loader",4),o.qZA(),o.qZA(),o.TgZ(7,"div",5),o.TgZ(8,"div",6),o.TgZ(9,"span",7),o._uU(10),o.qZA(),o.TgZ(11,"div",8),o.TgZ(12,"p"),o._uU(13,"Hor\xe1rio: "),o.TgZ(14,"strong"),o._uU(15),o.ALo(16,"date"),o.qZA(),o.qZA(),o.TgZ(17,"p"),o._uU(18,"Funcion\xe1rio: "),o.TgZ(19,"strong"),o._uU(20),o.qZA(),o.qZA(),o.TgZ(21,"p"),o._uU(22,"Contato: "),o.TgZ(23,"strong"),o._uU(24),o.qZA(),o._uU(25," ou "),o.TgZ(26,"strong"),o._uU(27),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(28,"div",9),o.TgZ(29,"a",10),o._uU(30,"+ Detalhes"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(31,"app-alert-modal",11),o.NdJ("actionClicked",function(){return e.onDelete()}),o.TgZ(32,"p"),o._uU(33," Voc\xea est\xe1 prestes a excluir o agendamento da data "),o.TgZ(34,"strong"),o._uU(35),o.ALo(36,"date"),o.qZA(),o._uU(37," para o servi\xe7o de "),o.TgZ(38,"strong"),o._uU(39),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(3),o.Oqu(e.agendamento.servico.nm_servico),o.xp6(2),o.Q6J("ngIf",!e.loading),o.xp6(1),o.Q6J("ngIf",e.loading),o.xp6(4),o.Oqu(e.dataAgendamento),o.xp6(5),o.Oqu(o.xi3(16,11,e.agendamento.dt_Agendamento,"HH:mm")),o.xp6(5),o.Oqu(e.agendamento.funcionario.nm_Funcionario),o.xp6(4),o.Oqu(e.agendamento.funcionario.cd_Celular),o.xp6(3),o.Oqu(e.agendamento.funcionario.ds_Email),o.xp6(2),o.Q6J("routerLink",o.VKq(17,u,e.agendamento.id)),o.xp6(6),o.Oqu(o.xi3(36,14,e.agendamento.dt_Agendamento,"dd/MM/yy")),o.xp6(4),o.Oqu(e.agendamento.servico.nm_servico))},styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");.cards[_ngcontent-%COMP%]{background:#fff;border-radius:8px;color:#0d1117;padding:16px;border:2px solid #c6932b}.cards__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.cards__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:21px;line-height:31px;color:#c6932b;position:relative}.cards__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]:after{content:"";width:48px;height:1px;background:#0d1117;position:absolute;left:0;bottom:0}.cards__header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#e54033;border-radius:50%;height:28px;width:28px;transition:all .3s}.cards__header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     fa-icon{color:#fff}.cards__header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:brightness(.9)}.cards__body[_ngcontent-%COMP%], .cards__content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cards__content[_ngcontent-%COMP%]{align-items:center;justify-content:space-between}@media (min-width: 768px){.cards__content[_ngcontent-%COMP%]{flex-direction:row}}.cards__date[_ngcontent-%COMP%]{font-size:28px;line-height:38px;width:100%;display:block}.cards__info[_ngcontent-%COMP%]{margin-top:8px;width:100%;grid-gap:16px;gap:16px}.cards__info[_ngcontent-%COMP%], .cards__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cards__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:18px}@media (min-width: 768px){.cards__info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:block}}.cards__detalhes[_ngcontent-%COMP%]{background:#015b7e;display:flex;justify-content:center;margin-top:16px;border-radius:8px}.cards__detalhes[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;display:block;text-align:center;width:100%;padding:8px}']}),t})()},1595:(t,e,n)=>{"use strict";n.d(e,{M:()=>c});var o=n(689),a=n(2340),i=n(7716),r=n(1841);let c=(()=>{class t{constructor(t){this.http=t}getAgendamentos(t){return this.http.get(`${a.N.baseUrl}/agendamento/cliente/${t}`).toPromise()}getAgendamentosFuncionario(t){return this.http.get(`${a.N.baseUrl}/agendamento/funcionario/${t}`).toPromise()}getAgendamentoById(t){return this.http.get(`${a.N.baseUrl}/agendamento/parcial/${t}`).toPromise()}createAgendamento(t,e){const n={cliente:Number(e),funcionario:Number(t.funcionario),servico:Number(t.servico),dt_Agendamento:(0,o.TG)(t.hour,t.date)};return console.log(n),this.http.post(`${a.N.baseUrl}/agendamento/create`,n).toPromise()}deleteAgendamento(t){return this.http.delete(`${a.N.baseUrl}/agendamento/${t}`).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(r.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},8907:(t,e,n)=>{"use strict";n.d(e,{B:()=>r});var o=n(2340),a=n(7716),i=n(1841);let r=(()=>{class t{constructor(t){this.http=t}getServices(){return this.http.get(`${o.N.baseUrl}/servico`).toPromise()}getServiceById(t){return this.http.get(`${o.N.baseUrl}/servico/${t}`).toPromise()}updateService(t){return this.http.put(`${o.N.baseUrl}/servico`,t).toPromise()}createService(t){return this.http.post(`${o.N.baseUrl}/servico/create`,t).toPromise()}deleteService(t){return this.http.delete(`${o.N.baseUrl}/servico/${t}`).toPromise()}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(i.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},5271:(t,e,n)=>{"use strict";n.d(e,{F:()=>u});var o=n(7716),a=n(2317),i=n(8832),r=n(8583);const c=["content"];function s(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",6),o.TgZ(1,"h4",7),o._uU(2),o.qZA(),o.TgZ(3,"button",8),o.NdJ("click",function(){return o.CHM(t),o.oxw().$implicit.dismiss("Cross click")}),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(2);o.xp6(2),o.Oqu(t.title)}}function d(t,e){if(1&t){const t=o.EpF();o.YNc(0,s,4,1,"div",1),o.TgZ(1,"div",2),o.Hsn(2),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"button",4),o.NdJ("click",function(){return o.CHM(t).$implicit.close("Save click")}),o._uU(5,"Fechar"),o.qZA(),o.TgZ(6,"button",5),o.NdJ("click",function(){return o.CHM(t),o.oxw().action()}),o._uU(7),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.Q6J("ngIf",t.title),o.xp6(6),o.Gre("",t.color," botao"),o.xp6(1),o.Oqu(t.actionText)}}const l=["*"];let u=(()=>{class t{constructor(t,e){this.modalService=t,this.modalConfig=e,this.closeResult="",this.actionText="Excluir",this.color="red",this.actionClicked=new o.vpe,e.centered=!0}ngOnInit(){this.modalConfig.modalDialogClass=`alert-modal ${this.modalClass}`}open(){this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{})}action(){this.actionClicked.emit("clicked")}ngOnDestroy(){this.modalConfig.modalDialogClass="alert-modal"}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(i.FF),o.Y36(i.NM))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-alert-modal"]],viewQuery:function(t,e){if(1&t&&o.Gf(c,5,o.Rgc),2&t){let t;o.iGM(t=o.CRH())&&(e.content=t.first)}},inputs:{modalClass:"modalClass",title:"title",text:"text",actionText:"actionText",color:"color"},outputs:{actionClicked:"actionClicked"},features:[o._Bn([a.G])],ngContentSelectors:l,decls:2,vars:0,consts:[["content",""],["class","modal-header",4,"ngIf"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"fechar","botao",3,"click"],["type","button",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"]],template:function(t,e){1&t&&(o.F$t(),o.YNc(0,d,8,5,"ng-template",null,0,o.W1O))},directives:[r.O5],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");  .alert-modal{color:#0d1117}  .alert-modal .modal-footer,   .alert-modal .modal-header{border:unset}  .alert-modal .modal-footer .botao,   .alert-modal .modal-header .botao{height:36px;border:none;font-size:14px;font-weight:400;padding:12px;display:flex;align-items:center;justify-content:center;border-radius:8px;opacity:1}  .alert-modal .modal-footer .botao.fechar,   .alert-modal .modal-header .botao.fechar{background:#015b7e;color:#fff}  .alert-modal .modal-footer .botao.red,   .alert-modal .modal-header .botao.red{background:#e54033;color:#fff}  .alert-modal .modal-footer .botao.amarelo,   .alert-modal .modal-header .botao.amarelo{background:#c6932b;color:#fff}  .alert-modal .modal-footer .botao.verde,   .alert-modal .modal-header .botao.verde{background:#04d361;color:#fff}  .alert-modal .modal-body{padding:16px 16px 12px}']}),t})()},285:(t,e,n)=>{"use strict";n.d(e,{Y:()=>d});var o=n(9976),a=n(7716),i=n(4330),r=n(4212);const c=function(){return["../"]},s=["*"];let d=(()=>{class t{constructor(){this.faArrowLeft=o.acZ}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-card-skeleton"]],inputs:{route:"route",title:"title"},ngContentSelectors:s,decls:9,vars:4,consts:[[1,"card-container","details"],[1,"card-container__content"],[1,"card-container__back","back",3,"routerLink"],[1,"icon",3,"icon"],[1,"card-container__title"],[1,"card-container__card"]],template:function(t,e){1&t&&(a.F$t(),a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"a",2),a._UZ(3,"fa-icon",3),a._uU(4," Voltar "),a.qZA(),a.TgZ(5,"h1",4),a._uU(6),a.qZA(),a.TgZ(7,"div",5),a.Hsn(8),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(2),a.Q6J("routerLink",a.DdM(3,c)),a.xp6(1),a.Q6J("icon",e.faArrowLeft),a.xp6(3),a.Oqu(e.title))},directives:[i.yS,r.BN],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");.card-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%}.card-container__content[_ngcontent-%COMP%]{padding:16px}@media (min-width: 768px){.card-container__content[_ngcontent-%COMP%]{padding:0}}.card-container__title[_ngcontent-%COMP%]{color:#c6932b;font-size:24px}@media (min-width: 1140px){.card-container__title[_ngcontent-%COMP%]{font-size:30px}}.card-container__back[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;margin-bottom:8px;display:flex;font-size:14px}.card-container__back[_ngcontent-%COMP%]:hover{color:#fff}.card-container__card[_ngcontent-%COMP%]{background:#fff;color:#0d1117;border-radius:12px;padding:16px;border:2px solid #c6932b}@media (min-width: 768px){.card-container__card[_ngcontent-%COMP%]{padding:24px}}.back[_ngcontent-%COMP%]     fa-icon{margin-right:8px;color:#c6932b}']}),t})()},9389:(t,e,n)=>{"use strict";n.d(e,{S:()=>l});var o=n(7716),a=n(8832),i=n(8583);const r=["content"];function c(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",5),o.TgZ(1,"h4",6),o._uU(2,"Profile update"),o.qZA(),o.TgZ(3,"button",7),o.NdJ("click",function(){return o.CHM(t),o.oxw().$implicit.dismiss("Cross click")}),o.qZA(),o.qZA()}}function s(t,e){if(1&t&&(o.TgZ(0,"div",8),o.TgZ(1,"span"),o._uU(2),o.qZA(),o.qZA()),2&t){const t=o.oxw(2);o.xp6(2),o.Oqu(t.text)}}function d(t,e){if(1&t){const t=o.EpF();o.YNc(0,c,4,0,"div",1),o.YNc(1,s,3,1,"div",2),o.TgZ(2,"div",3),o.TgZ(3,"button",4),o.NdJ("click",function(){return o.CHM(t).$implicit.dismiss("Cross click")}),o._uU(4,"Fechar"),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.Q6J("ngIf",t.title),o.xp6(1),o.Q6J("ngIf",t.text)}}let l=(()=>{class t{constructor(t,e){this.modalService=t,this.modalConfig=e,this.closeResult="",this.actionClicked=new o.vpe,e.modalDialogClass="info-modal",e.centered=!0}ngOnInit(){}open(){this.modalService.open(this.content,{ariaLabelledBy:"modal-basic-title"}).result.then(t=>{this.closeResult=`Closed with: ${t}`},t=>{this.actionClicked.emit("clicked"),this.modalService.dismissAll()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(a.FF),o.Y36(a.NM))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-info-modal"]],viewQuery:function(t,e){if(1&t&&o.Gf(r,5,o.Rgc),2&t){let t;o.iGM(t=o.CRH())&&(e.content=t.first)}},inputs:{title:"title",text:"text"},outputs:{actionClicked:"actionClicked"},decls:2,vars:0,consts:[["content",""],["class","modal-header",4,"ngIf"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"close",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"]],template:function(t,e){1&t&&o.YNc(0,d,5,2,"ng-template",null,0,o.W1O)},directives:[i.O5],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");  .info-modal{color:#0d1117}  .info-modal .modal-footer,   .info-modal .modal-header{border:unset}  .info-modal .modal-footer .close,   .info-modal .modal-header .close{height:24px;background:#015b7e;color:#fff;border:none;font-size:14px;font-weight:400;padding:12px;display:flex;align-items:center;justify-content:center;border-radius:8px;opacity:1}  .info-modal .modal-body{padding:16px 16px 12px}']}),t})()},8210:(t,e,n)=>{"use strict";function o(t){return t.substring(0,5)+"-"+t.substring(5)}n.d(e,{h:()=>o})},689:(t,e,n)=>{"use strict";function o(t){let e=new Date(t);return e.getDate()+" "+["Janeiro","Fevereiro","Mar\xe7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][e.getMonth()].substring(0,3)+"."}function a(t,e){if(t)return`${e.getFullYear()}-${e.getMonth()+1<=9?"0"+(e.getMonth()+1):e.getMonth()+1}-${e.getDate()<=9?"0"+e.getDate():e.getDate()}`;{const t=(new Date).getTime()+86400+6e4*new Date(String(e)).getTimezoneOffset(),n=new Date(t+-108e5);return`${n.getFullYear()}-${n.getMonth()+1}-${n.getDate()<=31?n.getDate()+1:n.getDate()}`}}function i(t){let e=new Date(t).getMinutes(),n=new Date(t).getHours();return n<=9?0===e?`0${n}:${e}0`:`0${n}:${e}`:0===e?`${n}:${e}0`:`${n}:${e}`}function r(t,e){return e+" "+t+":00"}n.d(e,{tw:()=>o,L9:()=>a,gN:()=>i,TG:()=>r})},5853:(t,e,n)=>{"use strict";function o(t){return"("+t.substring(0,2)+") "+t.substring(2,7)+"-"+t.substring(7,11)}n.d(e,{C:()=>o})},2825:(t,e,n)=>{"use strict";n.d(e,{w:()=>o});class o{constructor(){}static ValidaCpf(t){const e=t.value;let n,o=0;const a=new RegExp("[0-9]{11}");if("00000000000"!=e&&"11111111111"!=e&&"22222222222"!=e&&"33333333333"!=e&&"44444444444"!=e&&"55555555555"!=e&&"66666666666"!=e&&"77777777777"!=e&&"88888888888"!=e&&"99999999999"!=e&&a.test(e)){for(let t=1;t<=9;t++)o+=parseInt(e.substring(t-1,t))*(11-t);if(n=10*o%11,10!=n&&11!=n||(n=0),n!=parseInt(e.substring(9,10)))return{cpfInvalido:!0};o=0;for(let t=1;t<=10;t++)o+=parseInt(e.substring(t-1,t))*(12-t);return n=10*o%11,10!=n&&11!=n||(n=0),n!=parseInt(e.substring(10,11))?{cpfInvalido:!0}:null}return{cpfInvalido:!0}}static validateFullName(t){return/^[a-zA-Z]+ [a-zA-Z]+$/.test(t.value)?null:{fullNameInvalid:!0}}static validatePhone(t){return/^(?:(?:\+|00)?(55)\s?)?(?:\(?([1-9][0-9])\)?\s?)?(?:((?:9\d|[2-9])\d{3})\-?(\d{4}))$/.test(t.value)?null:{phoneInvalid:!0}}}}}]);