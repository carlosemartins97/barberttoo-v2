(self.webpackChunkbarberttoo_v2=self.webpackChunkbarberttoo_v2||[]).push([[393],{3393:(n,e,t)=>{"use strict";t.r(e),t.d(e,{AgendamentoModule:()=>B});var o=t(8583),a=t(4330),i=t(9976),r=t(7716),c=t(1595),g=t(2577),s=t(4212),l=t(2317),d=t(9047);function u(n,e){1&n&&(r.TgZ(0,"p"),r._uU(1,"Aqui voc\xea consegue visualizar todos os seus agendamentos ativos ou realizar um novo agendamento."),r.qZA())}function m(n,e){1&n&&(r.TgZ(0,"p"),r._uU(1,"Parece que voc\xea n\xe3o possui nenhum agendamento ativo no momento. Que tal realizar um agendamento conosco?"),r.qZA())}const p=function(){return["create"]};function f(n,e){if(1&n&&(r.TgZ(0,"div"),r.TgZ(1,"a",6),r._UZ(2,"fa-icon",7),r._uU(3," Agendamento "),r.qZA(),r.qZA()),2&n){const n=r.oxw();r.xp6(1),r.Q6J("routerLink",r.DdM(3,p)),r.xp6(1),r.Q6J("icon",n.faCalendarPlus)("fixedWidth",!0)}}function h(n,e){if(1&n){const n=r.EpF();r.TgZ(0,"app-card-agendamento",10),r.NdJ("deleteClicked",function(){return r.CHM(n),r.oxw(2).getAgendamentos()}),r.qZA()}2&n&&r.Q6J("agendamento",e.$implicit)}function _(n,e){if(1&n&&(r.TgZ(0,"div",8),r.YNc(1,h,1,1,"app-card-agendamento",9),r.qZA()),2&n){const n=r.oxw();r.xp6(1),r.Q6J("ngForOf",n.agendamentos)}}function C(n,e){1&n&&(r.TgZ(0,"div",11),r._UZ(1,"app-loader"),r.qZA())}let M=(()=>{class n{constructor(n,e){this.agendamentoService=n,this.userService=e,this.agendamentos=[],this.loading=!1,this.faCalendarPlus=i.a1i,this.role=this.userService.retornaUserRole()}ngOnInit(){this.getAgendamentos()}getAgendamentos(){this.loading=!0,this.agendamentoService.getAgendamentos(this.userService.retornaUserId()).then(n=>{this.agendamentos=n,console.log(n),this.loading=!1}).catch(n=>{console.log(n),this.loading=!1})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(c.M),r.Y36(g.K))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-agendamento"]],decls:11,vars:5,consts:[[1,"agendamento"],[1,"agendamento__header"],[4,"ngIf"],[1,"agendamento__body"],["class","grid",4,"ngIf"],["class","loader",4,"ngIf"],["aria-label","novo agendamento",1,"agendamento__novo",3,"routerLink"],[3,"icon","fixedWidth"],[1,"grid"],[3,"agendamento","deleteClicked",4,"ngFor","ngForOf"],[3,"agendamento","deleteClicked"],[1,"loader"]],template:function(n,e){1&n&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div"),r.TgZ(3,"h1"),r._uU(4,"Agendamentos ativos"),r.qZA(),r.YNc(5,u,2,0,"p",2),r.YNc(6,m,2,0,"p",2),r.qZA(),r.YNc(7,f,4,4,"div",2),r.qZA(),r.TgZ(8,"div",3),r.YNc(9,_,2,1,"div",4),r.YNc(10,C,2,0,"div",5),r.qZA(),r.qZA()),2&n&&(r.xp6(5),r.Q6J("ngIf",e.agendamentos.length>0&&!e.loading),r.xp6(1),r.Q6J("ngIf",0===e.agendamentos.length&&!e.loading),r.xp6(1),r.Q6J("ngIf","ROLE_CLIENTE"===e.role),r.xp6(2),r.Q6J("ngIf",!e.loading),r.xp6(1),r.Q6J("ngIf",e.loading))},directives:[o.O5,a.yS,s.BN,o.sg,l.G,d.R],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");.agendamento[_ngcontent-%COMP%]{padding:16px}.agendamento__header[_ngcontent-%COMP%]{margin-bottom:32px;display:flex;justify-content:space-between;flex-direction:column}@media (min-width: 1140px){.agendamento__header[_ngcontent-%COMP%]{align-items:center;flex-direction:row}}.agendamento__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#c6932b}.agendamento__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.agendamento__novo[_ngcontent-%COMP%]{margin-top:24px;color:#fff;background:#015b7e;padding:8px;border-radius:8px;display:flex;align-items:center;justify-content:center}@media (min-width: 1140px){.agendamento__novo[_ngcontent-%COMP%]{padding:12px}}.agendamento__novo[_ngcontent-%COMP%]     fa-icon{font-size:21px;margin-right:8px}.agendamento__body[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;grid-gap:32px;gap:32px}@media (min-width: 1140px){.agendamento__body[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}.agendamento__body[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{margin-top:32px}']}),n})();var Z=t(665),O=t(9389),v=t(689),P=t(8907),x=t(1534),b=t(285);function A(n,e){if(1&n&&(r.TgZ(0,"option",10),r._uU(1),r.qZA()),2&n){const n=e.$implicit;r.Q6J("value",n.id),r.xp6(1),r.Oqu(n.nm_servico)}}function q(n,e){if(1&n&&(r.TgZ(0,"option",10),r._uU(1),r.qZA()),2&n){const n=e.$implicit;r.Q6J("value",n.id),r.xp6(1),r.hij("",n.nm_Funcionario," ")}}function w(n,e){if(1&n){const n=r.EpF();r.TgZ(0,"div",11),r.NdJ("change",function(){return r.CHM(n),r.oxw().getAgendamentosFuncionario()}),r.TgZ(1,"select",12),r.YNc(2,q,2,2,"option",4),r.qZA(),r.TgZ(3,"label"),r._uU(4,"Atendente"),r.qZA(),r._UZ(5,"fa-icon",5),r.qZA()}if(2&n){const n=r.oxw();r.xp6(2),r.Q6J("ngForOf",n.funcionarios),r.xp6(3),r.Q6J("icon",n.faAngleDown)}}function T(n,e){if(1&n){const n=r.EpF();r.TgZ(0,"div",11),r.NdJ("change",function(){return r.CHM(n),r.oxw().getHorariosDisponiveis()}),r._UZ(1,"input",13),r.TgZ(2,"label"),r._uU(3,"Data"),r.qZA(),r.qZA()}if(2&n){const n=r.oxw();r.xp6(1),r.Q6J("min",n.minDate)}}function U(n,e){if(1&n&&(r.TgZ(0,"option",10),r._uU(1),r.qZA()),2&n){const n=e.$implicit;r.Q6J("value",n),r.xp6(1),r.hij("",n," ")}}function N(n,e){if(1&n&&(r.TgZ(0,"div",2),r.TgZ(1,"select",14),r.YNc(2,U,2,2,"option",4),r.qZA(),r.TgZ(3,"label"),r._uU(4,"Hor\xe1rios disponiveis"),r.qZA(),r._UZ(5,"fa-icon",5),r.qZA()),2&n){const n=r.oxw();r.xp6(2),r.Q6J("ngForOf",n.horarios),r.xp6(3),r.Q6J("icon",n.faAngleDown)}}function I(n,e){1&n&&(r.TgZ(0,"button",18),r._uU(1," Agendar "),r.qZA())}function J(n,e){1&n&&r._UZ(0,"app-loader",19)}function y(n,e){if(1&n&&(r.TgZ(0,"div",15),r.YNc(1,I,2,0,"button",16),r.YNc(2,J,1,0,"app-loader",17),r.qZA()),2&n){const n=r.oxw();r.xp6(1),r.Q6J("ngIf",!n.loading),r.xp6(1),r.Q6J("ngIf",n.loading)}}let F=(()=>{class n{constructor(n,e,t,o,a,r){this.servicosService=n,this.funcionariosService=e,this.agendamentoService=t,this.userService=o,this.router=a,this.route=r,this.form=new Z.cw({servico:new Z.NI("",[Z.kI.required]),funcionario:new Z.NI("",[Z.kI.required]),date:new Z.NI("",[Z.kI.required]),hour:new Z.NI("",[Z.kI.required])}),this.submitted=!1,this.loading=!1,this.servicos=[],this.funcionarios=[],this.atendimentosDoFuncionario=[],this.step=1,this.horarios=[],this.faAngleDown=i.gc2}ngOnInit(){this.getServicos(),this.setMinDate()}getForm(){return this.form.controls}getSelectedService(){this.selectedService=this.route.snapshot.queryParams.service,void 0!==this.selectedService&&this.servicos.filter(n=>n.id===+this.selectedService).length>0&&(this.form.controls.servico.setValue(this.selectedService),this.getFuncionarios())}getServicos(){this.servicosService.getServices().then(n=>{this.servicos=n,this.getSelectedService()}).catch(n=>{console.log(n),alert("Erro ao carregar servi\xe7os! Tente novamente mais tarde.")})}getFuncionarios(){this.funcionariosService.getFuncionarios().then(n=>{this.funcionarios=n,this.step=2,this.getForm().funcionario.setValue("")}).catch(n=>{console.log(n),alert("Erro ao carregar funcion\xe1rios! Tente novamente mais tarde.")})}getAgendamentosFuncionario(){this.agendamentoService.getAgendamentosFuncionario(this.form.controls.funcionario.value).then(n=>{this.step=3,this.getForm().date.setValue(""),this.atendimentosDoFuncionario=n.map(n=>{const e=new Date(n.dt_Agendamento).getMonth()+1,t=new Date(n.dt_Agendamento).getDate();return{hora:(0,v.gN)(n.dt_Agendamento),data:new Date(n.dt_Agendamento).getFullYear()+"-"+(e<10?`0${e}`:e)+"-"+(t<10?`0${t}`:t)}}),console.log(this.atendimentosDoFuncionario)}).catch(n=>{console.log(n),alert("N\xe3o foi poss\xedvel completar sua requisi\xe7\xe3o! Tente novamente mais tarde.")})}setMinDate(){const n=new Date;if(n.getHours()>18){const e=n.getDate(),t=31===e?1:e+1,o=n.getFullYear(),a=n.getMonth()+1;this.minDate=`${o}-${a<10?"0"+a:a}-${t<10?"0"+t:t}`}else this.minDate=(0,v.L9)(!0,new Date)}generateHorariosForToday(){const n=new Date,e=n.getHours()<10?"0"+n.getHours():n.getHours(),t=n.getMinutes()<10?"0"+n.getMinutes():n.getMinutes();return["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30"].filter(n=>Number(n.substring(0,2))>Number(e)?Number(e)+1===Number(n.substring(0,2))&&Number("00"===n.substring(3)&&Number(t)>45)?null:n:Number(n.substring(0,2))===Number(e)&&Number(n.substring(3))>Number(t)+15?n:null)}generateHorariosForAnotherDay(){return["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30"]}getHorariosDisponiveis(){let n=[];const e=this.form.controls.date.value;console.log(this.atendimentosDoFuncionario),this.atendimentosDoFuncionario.filter(t=>{e===t.data&&n.push(t.hora)});const t=(0,v.L9)(!0,new Date),o=(e===t?this.generateHorariosForToday():this.generateHorariosForAnotherDay()).filter(e=>!n.includes(e));this.horarios=o,this.step=4,this.getForm().hour.setValue("")}onSubmit(){if(this.submitted=!0,this.form.valid){this.loading=!0;const n=this.userService.retornaUserId();this.agendamentoService.createAgendamento(this.form.value,n).then(n=>{this.loading=!1,this.modal.open()}).catch(n=>{console.log(n),this.loading=!1,alert("N\xe3o foi poss\xedvel completar sua requisi\xe7\xe3o! Tente novamente mais tarde.")})}}redirectToAgendamentos(){this.router.navigate(["app/agendamento"])}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(P.B),r.Y36(x.a),r.Y36(c.M),r.Y36(g.K),r.Y36(a.F0),r.Y36(a.gz))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-create-agendamento"]],viewQuery:function(n,e){if(1&n&&r.Gf(O.S,5),2&n){let n;r.iGM(n=r.CRH())&&(e.modal=n.first)}},decls:13,vars:8,consts:[[1,"create-agendamento",3,"title"],[3,"formGroup","ngSubmit"],[1,"label-float"],["placeholder"," ","name","servico","id","servico","formControlName","servico",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"icon"],["class","label-float",3,"change",4,"ngIf"],["class","label-float",4,"ngIf"],["class","submit",4,"ngIf"],["text","Agendamento realizado com sucesso!",3,"actionClicked"],[3,"value"],[1,"label-float",3,"change"],["placeholder"," ","name","funcionario","id","funcionario","formControlName","funcionario"],["type","date","placeholder"," ","name","date","id","date","formControlName","date",3,"min"],["placeholder"," ","name","hour","id","hour","formControlName","hour"],[1,"submit"],["type","submit",4,"ngIf"],["color","dark",4,"ngIf"],["type","submit"],["color","dark"]],template:function(n,e){1&n&&(r.TgZ(0,"app-card-skeleton",0),r.TgZ(1,"form",1),r.NdJ("ngSubmit",function(){return e.onSubmit()}),r.TgZ(2,"div",2),r.TgZ(3,"select",3),r.NdJ("change",function(){return e.getFuncionarios()}),r.YNc(4,A,2,2,"option",4),r.qZA(),r.TgZ(5,"label"),r._uU(6,"Servi\xe7o"),r.qZA(),r._UZ(7,"fa-icon",5),r.qZA(),r.YNc(8,w,6,2,"div",6),r.YNc(9,T,4,1,"div",6),r.YNc(10,N,6,2,"div",7),r.YNc(11,y,3,2,"div",8),r.qZA(),r.qZA(),r.TgZ(12,"app-info-modal",9),r.NdJ("actionClicked",function(){return e.redirectToAgendamentos()}),r.qZA()),2&n&&(r.Q6J("title","Novo agendamento"),r.xp6(1),r.Q6J("formGroup",e.form),r.xp6(3),r.Q6J("ngForOf",e.servicos),r.xp6(3),r.Q6J("icon",e.faAngleDown),r.xp6(1),r.Q6J("ngIf",e.step>1),r.xp6(1),r.Q6J("ngIf",e.step>2),r.xp6(1),r.Q6J("ngIf",e.step>3),r.xp6(1),r.Q6J("ngIf",e.form.valid))},directives:[b.Y,Z._Y,Z.JL,Z.sg,Z.EJ,Z.JJ,Z.u,o.sg,s.BN,o.O5,O.S,Z.YN,Z.Kr,Z.Fj,d.R],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:repeat(1,1fr);grid-gap:16px;gap:16px}@media (min-width: 1140px){.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{min-width:520px}}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]{position:relative;height:56px;background:#0d1117;border-radius:4px;box-shadow:1px 4px 10px #0006;width:100%}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   .error-msg[_ngcontent-%COMP%]{display:block;padding-left:16px;font-size:12px;color:#e54033;font-weight:200;margin-top:3px}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]     fa-icon{position:absolute;right:16px;top:19px;color:#fff}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]     app-loader{position:absolute;right:42px;bottom:16px}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 16px 0;color:#fff;border:0;width:100%;outline:none;min-width:180px;font-size:16px;transition:all .3s ease-out;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;-webkit-appearance:none;border-radius:0;height:100%;background:#0000}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%], .create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   select[disabled][_ngcontent-%COMP%]{background:#686460}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-bottom:2px solid #c6932b}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#0000}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:16px;pointer-events:none;position:absolute;top:0;left:0;margin-top:18px;transition:all .3s ease-out;-webkit-transition:all .3s ease-out;-moz-transition:all .3s ease-out;color:#fff}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%], .create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus + label[_ngcontent-%COMP%], .create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .label-float[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{font-size:12px;margin-top:6px;color:#c6932b}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{color:#0d1117}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{width:100%}.create-agendamento[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#c6932b;color:#fff;font-weight:700;text-align:center;width:100%;height:56px;border-radius:4px;text-transform:uppercase}']}),n})();var S=t(5271),D=t(8832);function Y(n,e){if(1&n&&(r.TgZ(0,"div",5),r.TgZ(1,"div",6),r.TgZ(2,"h2"),r._uU(3,"Dados do usu\xe1rio"),r.qZA(),r.TgZ(4,"div",7),r.TgZ(5,"p"),r.TgZ(6,"strong"),r._uU(7,"Nome:"),r.qZA(),r._UZ(8,"br"),r._uU(9),r.qZA(),r.TgZ(10,"p"),r.TgZ(11,"strong"),r._uU(12,"E-mail:"),r.qZA(),r._UZ(13,"br"),r._uU(14),r.qZA(),r.TgZ(15,"p"),r.TgZ(16,"strong"),r._uU(17,"Celular:"),r.qZA(),r._UZ(18,"br"),r._uU(19),r.qZA(),r.qZA(),r.qZA(),r.TgZ(20,"div",8),r.TgZ(21,"h2"),r._uU(22,"Dados do agendamento"),r.qZA(),r.TgZ(23,"div",7),r.TgZ(24,"p"),r.TgZ(25,"strong"),r._uU(26,"Data:"),r.qZA(),r._UZ(27,"br"),r._uU(28),r.ALo(29,"date"),r.qZA(),r.TgZ(30,"p"),r.TgZ(31,"strong"),r._uU(32,"Hor\xe1rio:"),r.qZA(),r._UZ(33,"br"),r._uU(34),r.ALo(35,"date"),r.qZA(),r.TgZ(36,"p"),r.TgZ(37,"strong"),r._uU(38,"Atendente:"),r.qZA(),r._UZ(39,"br"),r._uU(40),r.qZA(),r.TgZ(41,"p"),r.TgZ(42,"strong"),r._uU(43,"Contato:"),r.qZA(),r._UZ(44,"br"),r._uU(45),r._UZ(46,"br"),r._uU(47),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&n){const n=r.oxw();r.xp6(9),r.hij(" ",null==n.agendamento||null==n.agendamento.cliente?null:n.agendamento.cliente.nm_Cliente,""),r.xp6(5),r.hij(" ",null==n.agendamento||null==n.agendamento.cliente?null:n.agendamento.cliente.ds_Email,""),r.xp6(5),r.hij(" ",null==n.agendamento||null==n.agendamento.cliente?null:n.agendamento.cliente.cd_Celular,""),r.xp6(9),r.hij(" ",r.xi3(29,8,null==n.agendamento?null:n.agendamento.dt_Agendamento,"dd/MM/yy"),""),r.xp6(6),r.hij(" ",r.xi3(35,11,null==n.agendamento?null:n.agendamento.dt_Agendamento,"HH:mm"),""),r.xp6(6),r.hij(" ",null==n.agendamento||null==n.agendamento.funcionario?null:n.agendamento.funcionario.nm_Funcionario,""),r.xp6(5),r.hij(" ",null==n.agendamento||null==n.agendamento.funcionario?null:n.agendamento.funcionario.cd_Celular," "),r.xp6(2),r.hij(" ",null==n.agendamento||null==n.agendamento.funcionario?null:n.agendamento.funcionario.ds_Email,"")}}function k(n,e){1&n&&r._UZ(0,"app-loader")}function Q(n,e){if(1&n){const n=r.EpF();r.TgZ(0,"div",9),r.TgZ(1,"button",10),r.NdJ("click",function(){return r.CHM(n),r.oxw().openAlertModal()}),r._uU(2),r.YNc(3,k,1,0,"app-loader",11),r.qZA(),r.qZA()}if(2&n){const n=r.oxw();r.xp6(2),r.hij(" ",n.loading?"":"Cancelar"," "),r.xp6(1),r.Q6J("ngIf",n.loading)}}function H(n,e){1&n&&r._UZ(0,"app-loader",12)}const j=[{path:"",component:M},{path:"create",component:F},{path:":id",component:(()=>{class n{constructor(n,e,t,o){this.route=n,this.agendamentoService=e,this.modalService=t,this.router=o,this.loading=!1,this.loadingPage=!1,this.faArrowLeft=i.acZ}ngOnInit(){this.getAgendamentoDetail()}getAgendamentoDetail(){this.loadingPage=!0,this.agendamentoId=+this.route.snapshot.params.id,this.agendamentoService.getAgendamentoById(this.agendamentoId).then(n=>{this.agendamento=n,this.loadingPage=!1,console.log(n)}).catch(n=>{console.log(n),this.loadingPage=!1})}openAlertModal(){this.modal.open()}onDelete(){this.modalService.dismissAll(),this.loading=!0,this.agendamentoService.deleteAgendamento(this.agendamento.id).then(n=>{console.log(n),this.router.navigate(["../"],{relativeTo:this.route}),this.loading=!1}).catch(n=>{console.log(n),this.loading=!1})}}return n.\u0275fac=function(e){return new(e||n)(r.Y36(a.gz),r.Y36(c.M),r.Y36(D.FF),r.Y36(a.F0))},n.\u0275cmp=r.Xpm({type:n,selectors:[["app-details-agendamento"]],viewQuery:function(n,e){if(1&n&&r.Gf(S.F,5),2&n){let n;r.iGM(n=r.CRH())&&(e.modal=n.first)}},decls:13,vars:9,consts:[[1,"details",3,"title"],["class","content",4,"ngIf"],["class","delete",4,"ngIf"],["color","dark",4,"ngIf"],["title","Aten\xe7\xe3o!",3,"actionClicked"],[1,"content"],[1,"user-content"],[1,"dados"],[1,"func-content"],[1,"delete"],["type","button",1,"delete",3,"click"],[4,"ngIf"],["color","dark"]],template:function(n,e){1&n&&(r.TgZ(0,"app-card-skeleton",0),r.YNc(1,Y,48,14,"div",1),r.YNc(2,Q,4,2,"div",2),r.YNc(3,H,1,0,"app-loader",3),r.qZA(),r.TgZ(4,"app-alert-modal",4),r.NdJ("actionClicked",function(){return e.onDelete()}),r.TgZ(5,"p"),r._uU(6," Voc\xea est\xe1 prestes a excluir o agendamento da data "),r.TgZ(7,"strong"),r._uU(8),r.ALo(9,"date"),r.qZA(),r._uU(10," para o servi\xe7o de "),r.TgZ(11,"strong"),r._uU(12),r.qZA(),r.qZA(),r.qZA()),2&n&&(r.Q6J("title","Detalhes do agendamento"),r.xp6(1),r.Q6J("ngIf",!e.loadingPage),r.xp6(1),r.Q6J("ngIf",!e.loadingPage),r.xp6(1),r.Q6J("ngIf",e.loadingPage),r.xp6(5),r.Oqu(r.xi3(9,6,null==e.agendamento?null:e.agendamento.dt_Agendamento,"dd/MM/yy")),r.xp6(4),r.Oqu(null==e.agendamento||null==e.agendamento.servico?null:e.agendamento.servico.nm_servico))},directives:[b.Y,o.O5,S.F,d.R],pipes:[o.uU],styles:['@import url("https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap");.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-direction:column;grid-gap:8px;gap:8px}@media (min-width: 768px){.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{grid-gap:32px;gap:32px;flex-direction:row}}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:16px;line-height:24px;font-weight:700;color:#c6932b}.details[_ngcontent-%COMP%]   .func-content[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   .user-content[_ngcontent-%COMP%]{width:100%}.details[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px;background:#e54033;color:#fff;border-radius:8px}']}),n})()}];let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[a.Bz.forChild(j)],a.Bz]}),n})();var E=t(4466),L=t(129);let B=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[o.ez,z,Z.UX,s.uH,E.m,D.IJ,L.yI.forChild()]]}),n})();r.B6R(l.G,[o.O5,s.BN,d.R,a.yS,S.F],[o.uU])}}]);